<form
    (submit)="onAddNewPost()"
    class="col-sm-6 border p-3 mb-3"
    [formGroup]="postForm"
>
    <h3>Add Post</h3>
    <hr />
    <div class="mb-3">
        <label for="">Title</label>
        <input
            type="text"
            name="title"
            ngModel
            class="form-control"
            placeholder="Title"
            formControlName="title"
        />
    </div>
    <div class="mb-3">
        <label for="">Description</label>
        <textarea
            name="description"
            ngModel
            class="form-control"
            placeholder="Description"
            formControlName="description"
        ></textarea>
    </div>
    <div class="mb-3">
        <div
            *ngIf="
                postForm.get('title')?.touched && postForm.get('title')?.errors
            "
        >
            Title :
            <small class="mb-3 text-danger">
                {{ postForm.get("title")?.errors | json }}
            </small>
        </div>
        <hr />
        <div
            *ngIf="
                postForm.get('description')?.touched &&
                postForm.get('description')?.errors
            "
        >
            Description :
            <small class="mb-3 text-danger">
                {{ postForm.get("description")?.errors | json }}
            </small>
        </div>
    </div>
    <div>
        <button
            class="btn btn-success"
            [disabled]="isAddingPost || postForm.invalid"
            style="margin-right: 3vh"
        >
            <span
                *ngIf="isAddingPost"
                class="spinner-border spinner-border-sm"
                role="status"
                aria-hidden="true"
            ></span>
            {{ isAddingPost ? "Adding Post" : "Add" }}
        </button>
        <button class="btn btn-outline-danger" [routerLink]="['/post']">
            Cancel
        </button>
    </div>
</form>
